<!DOCTYPE html>
<html lang="en"><head>
<script src="quarto_files/clipboard/clipboard.min.js"></script>
<script src="quarto_files/quarto-html/tabby.min.js"></script>
<script src="quarto_files/quarto-html/popper.min.js"></script>
<script src="quarto_files/quarto-html/tippy.umd.min.js"></script>
<link href="quarto_files/quarto-html/tippy.css" rel="stylesheet">
<link href="quarto_files/quarto-html/light-border.css" rel="stylesheet">
<link href="quarto_files/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="quarto_files/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.56">

  <title>Mining</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="quarto_files/revealjs/dist/reset.css">
  <link rel="stylesheet" href="quarto_files/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="quarto_files/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="ccc.css">
  <link href="quarto_files/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="quarto_files/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="quarto_files/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="quarto_files/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="quarto_files/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="quarto_files/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <p class="titlep">&nbsp;</p>
<div class="orangetitle">
  <h1 class="title" style="color:white !important">CS 4970</h1>
  <h2 class="subtitle" style="color:white !important">Cryptocurrency</h2>
  <h2 class="subtitle" style="color:white !important">Mining</h2>
</div>
  <p class="titlep">&nbsp;</p>
  <p class="titlep">&nbsp;</p>
  <div class="titlesmall"><p>
    <a href="https://www.cs.virginia.edu/~asb">Aaron Bloomfield</a> (aaron@virginia.edu)<br>
    <a href="https://github.com/aaronbloomfield/ccc">@github</a> | <a href="index.html">↑</a> | <a href="?print-pdf"><img class="print" width="20" src="images/print-icon.svg" style="top:0px;vertical-align:middle;background-color:transparent;display:inline;width:30px;height:30px"></a>
  </p></div>
  <p class="titlep">&nbsp;</p>
</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Contents</h2>
<ul>
<li><a href="#/mining-difficulty" id="/toc-mining-difficulty">Mining difficulty</a></li>
<li><a href="#/environmental-issues" id="/toc-environmental-issues">Environmental Issues</a></li>
<li><a href="#/proof-of-x" id="/toc-proof-of-x">Proof-of-<span class="math inline">\(X\)</span></a></li>
<li><a href="#/dags" id="/toc-dags">DAGs</a></li>
<li><a href="#/attacks" id="/toc-attacks">Attacks</a></li>
<li><a href="#/forks-orphan-nodes" id="/toc-forks-orphan-nodes">Forks &amp; Orphan Nodes</a></li>
</ul>
</nav>
</section>
<section>
<section id="mining-difficulty" class="title-slide slide level1 center">
<h1>Mining difficulty</h1>
<p><img src="../slides/images/logos/btc-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/eth-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/rvn-coin-symbol.svg" class="cclogosubtitle"></p>
</section>
<section id="disclaimer" class="slide level2">
<h2>Disclaimer</h2>
<ul>
<li>All the numbers shown here were accurate and current as of the time this slide set was updated
<ul>
<li>February 12, 2025 <!-- change each semester --></li>
<li>But they may have changed since then</li>
</ul></li>
<li>However, the RVN &amp; BTC difficulty is from much earlier blocks</li>
<li>Otherwise, they are (generally) consistent throughout the slide set
<ul>
<li>And the exact numbers don’t matter as much to explain the concepts</li>
</ul></li>
</ul>
</section>
<section id="coins-well-study" class="slide level2">
<h2>Coins we’ll study</h2>
<div class="font-75">
<ul>
<li><a href="https://coinmarketcap.com/currencies/bitcoin/" class="cclogo-slide"><img data-src="../slides/images/logos/btc-coin-symbol.svg" alt="btc logo"></a> Bitcoin: we all know this
<ul>
<li>Hash algorithm: double SHA-256</li>
</ul></li>
<li><a href="https://coinmarketcap.com/currencies/ravencoin/" class="cclogo-slide"><img data-src="../slides/images/logos/rvn-coin-symbol.svg" alt="rvn logo"></a> Ravencoin
<ul>
<li>A fork of Bitcoin, so works similarily; focuses on tokens</li>
<li>Designed to be ASIC resistant</li>
<li>Hash algorithm: kawpow (16 different rotating algorithms)</li>
</ul></li>
<li><a href="https://coinmarketcap.com/currencies/ethereum/" class="cclogo-slide"><img data-src="../slides/images/logos/eth-coin-symbol.svg" alt="eth logo"></a> Ethereum
<ul>
<li>A generational improvement over Bitcoin</li>
<li>Allows for much more complicated programs</li>
<li>Hash algorithm: Keccak-256 (aka SHA3)</li>
<li>It just moved to proof-of-stake</li>
</ul></li>
</ul>
</div>
</section>
<section id="why-a-higher-difficulty" class="slide level2">
<h2>Why a higher difficulty?</h2>
<ul>
<li>As more people mine – to get the reward – the time between blocks decreases
<ul>
<li>Each coin is designed to have a fixed time between blocks</li>
<li>Bitcoin: 10 minutes; Ravencoin: 1 minute; Ethereum: (previously) 12-15 seconds</li>
</ul></li>
<li>Mining too fast will exhaust the available coin and and devalue the coin’s value</li>
</ul>
</section>
<section id="how-to-make-it-more-difficult" class="slide level2">
<h2>How to make it more difficult</h2>
<ul>
<li>Force the hash of the mined block to have a certain number of leading zeros</li>
<li>In <a href="https://rvnblockexplorer.com/block/3028834">Ravencoin block 3,714,773</a>: 000000000000 9847addedabc03b320a9545175d969c7cf23dc9b862f301453cc
<ul>
<li>12 leading hex zeros, 48 leading bits</li>
</ul></li>
<li>In <a href="https://bitcoinblockexplorers.com/block/813369">Bitcoin block 883,513</a>: 00000000000000000000 d8dba3009cc023e03220d0ec6e5e3285e15ba0d9f0dd <!-- change each semester -->
<ul>
<li>20 leading hex zeros, 80 leading bits</li>
</ul></li>
</ul>
</section>
<section id="random-nonces" class="slide level2">
<h2>Random nonces</h2>
<ul>
<li>Consider a random nonce to generate a hash value</li>
<li>You would expect that half (50%) would have a leading 0 bit, and the other half would have a leading 1 bit
<ul>
<li>Expectation is that 1/4 (25%) have two leading 0 bits</li>
<li>Expectation is that 1/8 (12.5%) have three leading 0 bits</li>
</ul></li>
<li>Expectation is that <span class="math inline">\(\frac{1}{2}^n\)</span> have <span class="math inline">\(n\)</span> leading 0 bits</li>
<li>Thus…
<ul>
<li class="fragment">
RVN example: <span class="math inline">\(\frac{1}{2^{48}}\)</span>, which is 1 in 281 trillion (<span class="math inline">\(2.81 \ast 10^{14}\)</span>), would have 48 leading 0 bits
</li>
<li class="fragment">
BTC example: <span class="math inline">\(\frac{1}{2^{80}}\)</span>, which is 1 in 1.2 septillion (<span class="math inline">\(1.2 \ast 10^{24}\)</span>), would have 80 leading 0 bits
</li>
<!-- change each semester -->
</ul></li>
</ul>
<!-- .slide: class="right-float-img" -->
</section>
<section id="bitcoin-nonces" class="slide level2">
<h2>Bitcoin nonces</h2>
<p><a href="https://twitter.com/100trillionUSD/status/1081217034485149697"><img src="images/mining/nonce-tweet.webp" style="width:40%;border-radius:10px"></a></p>
<ul>
<li>Consider <a href="https://blog.bitmex.com/the-mystery-of-the-bitcoin-nonce-pattern/">The Mystery Of The Bitcoin Nonce Pattern</a>
<ul>
<li>And the <a href="images/mining/nonce-tweet-graph.webp">full image</a> (<a href="https://pbs.twimg.com/media/DwFAIi8WoAAyUwq?format=jpg&amp;name=large">remote</a>)</li>
</ul></li>
<li>Early blocks (left-most) were Satoshi experimenting</li>
<li>Possible reasons:
<ul>
<li>Selection bias (<a href="https://bitcoin.stackexchange.com/questions/36860/bitcoin-and-other-crypto-coins-nonce-loop">source</a>)</li>
<li>How ASICs work (<a href="https://blog.bitmex.com/the-mystery-of-the-bitcoin-nonce-pattern/">source</a>)</li>
</ul></li>
</ul>
</section>
<section id="mining-nbits" class="slide level2">
<h2>Mining: nbits</h2>
<ul>
<li>The nbits field is a 8-digit (32-bit) hex number, such as: 0x1b00a908
<ul>
<li>It’s like an enocded floating point number</li>
</ul></li>
<li>The first 2 digits (1b) is the <em>exponent</em>; convert to decimal and subtract 3
<ul>
<li><span class="math inline">\(0x1b -3 = 27-3=24\)</span></li>
<li>This means there will be <span class="skyblue">24 <em>trailing</em> 0x00 bytes</span> (48 zero hex digits)</li>
</ul></li>
<li>The last 6 digits of the nbits are the <span class="lightgreen"><em>mantissa:</em> 0x00a908</span></li>
<li>We left-fill with 0’s to 256 bits (64 hex digits)
<ul>
<li>With 48 trailing zero digits and 6 exponent digits, that leaves us <span class="pink">10 leading 0x0 hex digits</span> (5 0x00 bytes)</li>
</ul></li>
<li>This gets us: 0x<span class="pink">0000000000</span><span class="lightgreen">00a908</span><span class="skyblue">00000000000000000 0000000000000000000000000000000</span></li>
</ul>
</section>
<section id="mining-nbits-target" class="slide level2">
<h2>Mining: nbits &amp; target</h2>
<div class="font-95">
<ul>
<li>An nbits field of 0x1b00a908 thus gets us a <em>target</em> of 0x000000000000a908000000000000000 000000000000000000000000000000000
<ul>
<li>This is from <a href="https://rvnblockexplorer.com/block/1982364">RVN block 1,982,364</a> (from October 2021)</li>
<li>The hash value had to be less than that</li>
</ul></li>
<li>That target requires 12 leading zero hex digits (48 leading binary zero bits)
<ul>
<li>Chance to find: <span class="math inline">\(\approx 1/2^{48}\)</span></li>
</ul></li>
<li>The first RVN target (<a href="https://rvnblockexplorer.com/block/1">RVN block 1</a>) was 0x1d00ffff = 0x00000000ffff00000000000000000000 00000000000000000000000000000000
<ul>
<li>Chance to find: 1 in <span class="math inline">\(2^{32}\)</span> or 1 in 4.3 billion</li>
<li>Note that some incorrectly report it as 0x1e00fff</li>
</ul></li>
</ul>
</div>
</section>
<section id="mining-targets-difficulty" class="slide level2">
<h2>Mining: targets &amp; difficulty</h2>
<ul>
<li>If you divide the original target by the current target, you get the difficulty
<ul>
<li>How many times harder the current block is than the original block</li>
</ul></li>
<li>For <a href="https://rvnblockexplorer.com/block/1982364">RVN block 1,982,364</a>, that’s about 99,253.60</li>
<li>To avoid confusion, I will refer to this as <em>network difficulty</em></li>
<li>You can see the current <a href="https://www.coinwarz.com/mining/ravencoin/difficulty-chart">RVN network difficulty</a>
<ul>
<li>And also the current <a href="https://www.coinwarz.com/mining/bitcoin/difficulty-chart">BTC network difficulty</a></li>
</ul></li>
<li><a href="https://en.bitcoin.it/wiki/Difficulty">This page at the Bitcoin wiki</a> describes difficulty computation in more detail (and provides C++ code)</li>
</ul>
</section>
<section id="miner-reported-difficulty" class="slide level2">
<h2>Miner reported difficulty</h2>
<ul>
<li>Another way to look at it:
<ul>
<li>Let <span class="math inline">\(d_n\)</span> be the network difficulty (say, 100k)</li>
<li>Let <span class="math inline">\(d_o\)</span> be the original difficulty of block 1 (<span class="math inline">\(2^{32}=4.29G\)</span>)</li>
</ul></li>
<li>The current target is as hard as the product of those two: <span class="math inline">\(t = d_n * d_o\)</span>
<ul>
<li>For <a href="https://rvnblockexplorer.com/block/1982364">RVN block 1,982,364</a>, the network difficulty was 100.3417k
<ul>
<li>(RVN historical difficulty can be found <a href="https://www.coinwarz.com/mining/ravencoin/difficulty-chart">here</a>)</li>
</ul></li>
<li>Making the target as hard as <span class="math inline">\(100k * 4.3G = 4.29T\)</span></li>
</ul></li>
</ul>
</section>
<section id="bdiff-versus-pdiff" class="slide level2">
<h2>bdiff versus pdiff</h2>
<ul>
<li>The first RVN &amp; BTC target was 0x1d00ffff = 0x00000000ffff0000000000000000000000 000000000000000000000000000000
<ul>
<li>This is the exact expansion of the <em>nbits</em> value</li>
<li>That yields a difficulty of 99,253.59955</li>
<li>This is <em>bdiff</em> (think: bitcoin-diff)</li>
</ul></li>
<li>Traditionally it was represented as a target of 0x00000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffff
<ul>
<li>This is a “non-truncated target”, and usually the values used by mining pools</li>
<li>That yields a difficulty of 99,255.11406</li>
<li>This is <em>pdiff</em> (think: pool-diff)</li>
</ul></li>
</ul>
</section>
<section id="mining-pools" class="slide level2">
<h2>Mining pools</h2>
<ul>
<li>The chance of you getting a Bitcoin block is really low</li>
<li>But if you team up with other people, you can all contribute, and if the group gets a block the reward is distributed among the members</li>
<li>This is a <em>mining pool</em></li>
<li>For Proof-of-Work (PoW) coins, members get a percentage of the value of the pooled profit based on the amount of work they put in</li>
<li>But how to compute that?
<ul>
<li>More on that in a bit…</li>
</ul></li>
</ul>
</section>
<section id="miner-reported-difficulty-1" class="slide level2">
<h2>Miner reported difficulty</h2>
<ul>
<li>A mining program will report the difficulty of a <em>share</em>
<ul>
<li>For now, a <em>share</em> is a nonce found that has a lot of leading 0’s, even if it is not enough to solve the block</li>
<li>“134.25 T”, for example</li>
<li>I’ll refer to this as the <em>share difficulty</em>, or <span class="math inline">\(d_s\)</span>, to avoid confusion</li>
<li>Share difficulty is set by the mining pool</li>
</ul></li>
<li>If a share requires 42 leading zero bits, then it would report a share difficulty of <span class="math inline">\(2^{42} = 4.4\)</span> T
<ul>
<li>44 leading zero bits yields a share difficulty of <span class="math inline">\(17.6\)</span> T</li>
<li>The target for <a href="https://rvnblockexplorer.com/block/1982364">RVN block 1,982,364</a> needed 48 leading zero bits
<ul>
<li><span class="math inline">\(s_d=2^{48} = 281.5\)</span> T</li>
</ul></li>
</ul></li>
</ul>
<!--
## Miner reported difficulty
- Given *nbits* of 0x1b00a908 for [RVN block 1,982,364](https://rvnblockexplorer.com/block/1982364), we can compute $b$, the exact number of zero bits needed, via:
  - Let $m$ be the (base-10) value of the mantissa
    - $m=0x00a908=43,272$
  - Let $p$ be the number of hex bytes (not digits) from the power part of *nbits*; this is the power value
    - $p=0x1b-3=27-3=24$
  - Let $l_h$ be the leading number of 0 hex digits (not bytes) in the target
    - $l_h=64-6-2*p=10$
  - The exact number of zero bits, $b$, needed is then:
    - $b=4*l_h+24-log2(m) = 48.59885$
- The minimum required share difficulty, $sd$, is then 2 to that power: $sd=2^b=2^{48.59885} = 426.30$ T
-->
</section>
<section id="mining-shares" class="slide level2">
<h2>Mining shares</h2>
<ul>
<li>Any <em>good</em> nonce is reported to the mining pool, even if it is not enough to solve the block
<ul>
<li>Consider the <a href="https://rvn.2miners.com/">2miners RVN mining pool</a>, which has <em>pdiff</em> (pool mining difficulty) of 4.295 G</li>
<li>So any nonce found that has a difficulty of <span class="math inline">\(4.295\)</span> G$ = 4.295 * 10^9$ or higher will be reported to the mining pool</li>
</ul></li>
<li>It is thus expected to take <span class="math inline">\(4.295G = 2^{32}\)</span> hashes to get a share
<ul>
<li>So a 50 Mh/s GPU (the Nvidia 3090) would expect to get a share every 85.9 seconds</li>
</ul></li>
<li>The share value keeps the bandwidth to the mining pool down while also allowing an estimate of the work performed</li>
</ul>
<!--
## Miner reported difficulty
- The nonce found for [RVN block 1,982,364](https://rvnblockexplorer.com/block/1982364) generated a hash of 0x0000000000003d7678380e2f25b4a8c 8271b53638d380f761acbf4ee040f325a; what was its share difficulty?
- Let $l_b$ be the leading number of binary bits in the hash (note that $l_h = l_b*4$):
  - $l_b = 256 - log_2(hash) = 50.05835$
- The difficulty with $l_b$ bits is just 
  - $2^{l_b} = 2^{50.05835} = 1.1724*10^{15} = 1,172.4$ T
  - But the number reported by the mining software was $541.1$ T, so something is off here...
-->
<!-- ============================================================ -->
</section></section>
<section>
<section id="environmental-issues" class="title-slide slide level1 center">
<h1>Environmental Issues</h1>

</section>
<section id="how-much-is-mining-killing-the-earth" class="slide level2">
<h2><span class="r-fit-text">How much is mining killing the Earth?</span></h2>
<ul>
<li>Consider the <a href="https://www.canaan.io/product/avalon-made-a1466-150t">Avalon A1466 miner</a>
<ul>
<li>It uses 3,230 W and produces 150 Th/s</li>
<li>That’s 46.4 Gh/W, which is not super efficient any more</li>
<li>3,230 W for 24 hours/day yields 77.5 kWh</li>
<li>At Charlottesville’s electric rates (15¢ per kWh) that’s $11.67 per day</li>
</ul></li>
<li><a href="https://www.blockchain.com/charts/hash-rate">This site</a> estimates that the current world-wide BTC hash rate is 804 million Th/s
<ul>
<li>If it were only Avalon A1466 miners, then we need 5.37 million such miners, at 150 Th/s, to get 804 million Th/s</li>
<li>That’s 17.4 GW (<span class="math inline">\(10^{12}\)</span>W), or 416 GWh per day, or about 152,000 GWh (152 TWh) per year <!-- change each semester --></li>
</ul></li>
</ul>
</section>
<section id="death-to-the-environment" class="slide level2">
<h2>Death to the Environment!</h2>
<p><a href="https://commons.wikimedia.org/wiki/File:Alfred_Palmer_Smokestacks.jpg" class="right-float-img-600 no-border"><img data-src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/Alfred_Palmer_Smokestacks.jpg/1280px-Alfred_Palmer_Smokestacks.jpg"></a></p>
<ul>
<li>The lower-bound estimate from the last slide is that BTC mining uses 17.4 GW (<span class="math inline">\(10^{12}\)</span>W), or 416 GWh per day, or 152 TWh per year <!-- change each semester -->
<ul>
<li>A <a href="https://www.sciencedirect.com/science/article/pii/S2542435119302557">2019 estimate</a> was at 46 TWh per year, but the <a href="https://www.blockchain.com/charts/hash-rate?timespan=all">hash rate</a> has increased significantly since then</li>
</ul></li>
<li>That is more than 171 of the world’s 218 countries (<a href="https://en.wikipedia.org/wiki/List_of_countries_by_electricity_consumption">source</a>)</li>
<li>That is the equivalent to 2% of the total US electrical usage per year (<a href="https://en.wikipedia.org/wiki/List_of_countries_by_electricity_consumption">source</a>)</li>
</ul>
</section>
<section id="death-to-the-environment-1" class="slide level2">
<h2>Death to the Environment!</h2>
<ul>
<li>These computations:
<ul>
<li>Assume that all the BTC mining is as efficient as the Avalon A1466 miner
<ul>
<li>To little efficiency and money is lost, not gained</li>
</ul></li>
<li>Do not factor in the other mined coins</li>
</ul></li>
<li>So perhaps the actual amount is twice our initial estimate?
<ul>
<li>That is the equivalent to 4% of the total US electrical usage per year (<a href="https://en.wikipedia.org/wiki/List_of_countries_by_electricity_consumption">source</a>)</li>
<li>That’s 166 TWh per year</li>
<li>But that’s a total guess, though!</li>
</ul></li>
</ul>
</section>
<section id="can-mining-not-kill-the-environment" class="slide level2">
<h2><span class="r-fit-text">Can mining not kill the environment?</span></h2>
<ul>
<li>Yes!</li>
<li>Use renewable resources, or pay carbon offsets</li>
<li>But many entities mine Bitcoin for the profit, and these things often lessen the profit</li>
<li>So few do this</li>
</ul>
</section>
<section id="worldwide-power-consumption" class="slide level2">
<h2>Worldwide power consumption</h2>
<ul>
<li>In 2021, the world used 25,343 TWh of electricity (<a href="https://en.wikipedia.org/wiki/List_of_countries_by_electricity_consumption">source</a>)
<ul>
<li>The US used 3,979 TWh (15.7% of total)</li>
<li>Only China was higher at 7,806 TWh (30.8% of total)</li>
</ul></li>
<li>We guessed that cryptocurrency mining uses 166 TWh per year</li>
<li>That is 0.63% of the worldwide total energy usage
<ul>
<li>0.32% for Bitcoin only <!-- change each semester --></li>
</ul></li>
</ul>
</section>
<section id="actual-usage" class="slide level2">
<h2>Actual usage</h2>
<ul>
<li>Consider: <a href="https://decrypt.co/91824/bitcoin-mining-carbon-emissions-inconsequential-levels-coinshares">Bitcoin Mining Carbon Emissions at ‘Inconsequential’ Levels: CoinShares</a>
<ul>
<li>They estimate that bitcoin mining uses 0.08% of worldwide electricity</li>
</ul></li>
<li>Take that with a grain of salt, though!
<ul>
<li>A cryptocurrency company, that makes money off of mining, saying it’s fine for the environment is like a cigarette company saying smoking is not unhealthy</li>
</ul></li>
</ul>
</section>
<section id="mining-profitability" class="slide level2">
<h2>Mining profitability</h2>
<ul>
<li>Bitcoin mining is profitable at scale
<ul>
<li>Not by the individual</li>
</ul></li>
<li>Reasons:
<ul>
<li>Significant price discount when buying miners in bulk</li>
<li>Industry pays much less for electricity</li>
<li>Tariffs can be avoided easier</li>
<li>Heat can be re-used for other purposes
<ul>
<li>See <a href="https://www.google.com/search?q=bitcoin+miner+heat+re-use&amp;tbm=isch">this Google images search</a></li>
<li>Using the heat for other purposes that you would have paid for makes it more profitable</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="btc-mining-in-the-us" class="slide level2">
<h2>BTC mining in the US</h2>

<img data-src="https://upload.wikimedia.org/wikipedia/commons/3/35/Texas_flag_map.svg" class="right-float-img r-stretch"><ul>
<li><a href="https://www.washingtonpost.com/technology/2021/07/08/bitcoin-mining-texas-electricity/">Texas is the go-to place to mine BTC</a>
<ul>
<li>Cheap energy and a business-friendly environment</li>
</ul></li>
<li>The miners <a href="https://www.washingtonpost.com/climate-solutions/2022/07/15/bitcoin-crypto-texas-heat-wave/">turn off the mining when demand spikes</a>
<ul>
<li>And they <a href="https://finance.yahoo.com/news/texas-bitcoin-miners-getting-paid-064946406.html"><em>get paid to do so</em></a> (<a href="https://fortune.com/2022/07/12/texas-bitcoin-miners-paid-shut-down-power-grid-electricity-blackout-heat/">original source</a>) <!-- - The cost of this is pushed off to consumers in other ways: [low social services](https://finance.yahoo.com/news/10-states-spend-most-least-090000541.html) (6th worst), [low quality of life](https://www.worldatlas.com/articles/the-10-us-states-with-the-worst-quality-of-life.html) (5th worst), [highest overall taxes](https://worldpopulationreview.com/state-rankings/highest-taxed-states) (7th worst), etc. --></li>
</ul></li>
</ul>
<!-- ============================================================ -->
</section></section>
<section>
<section id="proof-of-x" class="title-slide slide level1 center">
<h1>Proof-of-<span class="math inline">\(X\)</span></h1>
<p><img src="../slides/images/logos/eth-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/fil-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/neox-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/ppc-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/rvn-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/sol-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/storj-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/xlm-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/xpm-coin-symbol.svg" class="cclogosubtitle"></p>
</section>
<section id="mining" class="slide level2">
<h2>Mining</h2>
<ul>
<li>In order for transactions to occur, there has to be a way for some entity to “certify” a block
<ul>
<li>So far the only certification method we’ve seen is proof-of-work mining</li>
</ul></li>
<li>But how to decide who gets to do it?
<ul>
<li>Since there is a reward involved, everybody wants to be that one entity!</li>
</ul></li>
</ul>
</section>
<section id="proof-of-work-pow" class="slide level2">
<h2>Proof of Work (PoW)</h2>
<ul>
<li>This is what we’ve seen so far:
<ul>
<li>Find a nonce (and transaction order) to get the hash less than the target</li>
</ul></li>
<li>The successful miner has shown s/he has done the work…
<ul>
<li>… or just been lucky enough…</li>
</ul></li>
<li>… to “complete” the block</li>
</ul>
</section>
<section id="proof-of-work-pow-issues" class="slide level2">
<h2>Proof of Work (PoW) issues</h2>
<ul>
<li>High energy usage
<ul>
<li>Environmental issues as a result</li>
<li>It’s not a “green” solution by any means</li>
</ul></li>
<li>Can cause bottlenecks when there is a lot of activity
<ul>
<li>Not (currently) a problem for Bitcoin
<ul>
<li>It was before witnesses were added, though</li>
</ul></li>
<li>Bit it’s a problem for “things” that runs on top of Ethereum</li>
</ul></li>
</ul>
</section>
<section id="useful-proof-of-work-pow" class="slide level2">
<h2>“Useful” Proof-of-Work (PoW)</h2>
<ul>
<li>Use computing power for some “good”</li>
<li><a href="https://coinmarketcap.com/currencies/primecoin/" class="cclogo-slide"><img data-src="../slides/images/logos/xpm-coin-symbol.svg" alt="xpm logo"></a> Example: Primecoin, launched in 2013 <br clear="all">
<ul>
<li>Purpose: generate primes for mathematical and scientific study</li>
<li><a href="https://primecoin.io/bin/primecoin-paper.pdf">Whitepaper</a></li>
<li>Time between blocks: 1 minute</li>
<li>Difficulty change is for each block (not 2 weeks)</li>
<li>Generates two types of primes sequences: Cunningham chains and Bi-twin chains</li>
</ul></li>
</ul>
</section>
<section id="cunningham-chain" class="slide level2">
<h2>Cunningham chain</h2>
<ul>
<li>Of the first kind: length <span class="math inline">\(n\)</span> sequence <span class="math inline">\((p_1, \ldots, p_n)\)</span> such that: <span class="math inline">\(p_{i+1} = 2p_i+1\)</span>
<ul>
<li>Each prime is one <em>more</em> than twice the previous</li>
<li>Example: 2, 5, 11, 23, 47</li>
</ul></li>
<li>Of the second kind: length <span class="math inline">\(n\)</span> sequence <span class="math inline">\((p_1, \ldots, p_n)\)</span> such that: <span class="math inline">\(p_{i+1} = 2p_i-1\)</span>
<ul>
<li>Each prime is one <em>less</em> than twice the previous</li>
<li>Example: 19, 37, 73</li>
</ul></li>
<li>Generalized: length <span class="math inline">\(n\)</span> sequence <span class="math inline">\((p_1, \ldots, p_n)\)</span> such that: <span class="math inline">\(p_{i+1} = a \ast p_i + b\)</span></li>
</ul>
</section>
<section id="bi-twin-chain" class="slide level2">
<h2>Bi-twin chain</h2>
<ul>
<li>A sequence of primes of the form:
<ul>
<li><span class="math inline">\(n-1,n+1,2n-1,2n+1,\ldots,2^kn-1,2^kn+1\)</span></li>
<li>Must have an even number of terms</li>
</ul></li>
<li>All examples are really large numbers…</li>
</ul>
</section>
<section id="asic-mining" class="slide level2">
<h2>ASIC mining</h2>

<img src="https://static.canaan.io/prod/u_file/2306/21/products/20230621-132459A13-5a80.jpeg?x-oss-process=image/quality,q_80/resize,m_lfit,h_500,w_500" style="padding-left:0;padding-right:0" class="right-float-img r-stretch"><ul>
<li>Some cryptocurrencies use hash algorithms that special-purpose hardware can mine
<ul>
<li>ASIC = application-specific integrated circuit</li>
<li>Bitcoin, Ethereum (before the ETH2 upgrade)</li>
</ul></li>
</ul>
</section>
<section id="asic-resistant-mining" class="slide level2">
<h2>ASIC-resistant mining</h2>
<ul>
<li><a href="https://coinmarketcap.com/currencies/ravencoin/" class="cclogo-slide"><img data-src="../slides/images/logos/rvn-coin-symbol.svg" alt="rvn logo"></a> Consider Ravencoin, which aims for ASIC-resistant mining <br clear="all"></li>
<li>It uses 16 different hash algorithms
<ul>
<li>The last 8 digits of the previous block’s hash determine which 8 algorithms to use</li>
<li>That’s a <em>LOT</em> of hashes, and it is very power-intensive</li>
</ul></li>
<li>Many are skeptical of it’s ASIC-resistance
<ul>
<li>If it were valuable enough, I’m sure somebody would develop an ASIC for it</li>
</ul></li>
<li>The developers regularly update the algorithm to try to maintain ASIC-resistance
<ul>
<li>Original algorithm was <a href="https://ravencoin.org/assets/documents/X16R-Whitepaper.pdf">x16r</a>, then x16rv2, and now kawpow</li>
</ul></li>
</ul>
</section>
<section id="lite-hash-rate-lhr" class="slide level2">
<h2>Lite Hash Rate (LHR)</h2>
<ul>
<li>Nvidia makes graphics card GPUs
<ul>
<li>And everybody was buying their cards to mine cryptocurrency
<ul>
<li>Which priced out their primary market: gamers</li>
</ul></li>
</ul></li>
<li>Nvidia’s previous solution: create LHR cards
<ul>
<li>Make the card recognize mining of Ethash, and “lock” the GPU for 20 seconds</li>
<li>But this only affects Ethash, not any other mining algorithm!</li>
</ul></li>
<li>Mining programs figured out how to <em>dual-mine</em>
<ul>
<li>It mines Ethash at half GPU usage and another coin for the other half</li>
</ul></li>
<li>Nvidia gave up on this in May 2022 and removed LHR in recent drivers</li>
</ul>
</section>
<section id="terminology" class="slide level2">
<h2>Terminology</h2>
<ul>
<li>The act of <em>certifying</em> a block is called different terms with different certification mechanisms</li>
<li>Technically <em>mining</em> is certification on a proof-of-work blockchain
<ul>
<li>But, more generally, it encompasses any type of block certification</li>
</ul></li>
<li>Other terms: signing, validating, etc.</li>
</ul>
</section>
<section id="proof-of-authority-poa" class="slide level2">
<h2>Proof of Authority (PoA)</h2>
<ul>
<li>A small set (possibly singleton) of accounts are <em>signers</em>
<ul>
<li>They form a <em>clique</em></li>
<li>One signer signs a block</li>
<li>Then a majority (&gt;50%) of the clique must agree</li>
</ul></li>
<li>Not great for a decentralized cryptocurrency!</li>
<li>Our course blockchain uses this
<ul>
<li>The clique was defined in the genesis.json file</li>
<li>It makes mining (aka signing) much easier in a development setting</li>
</ul></li>
<li>Biggest uses: test networks, development environments, course blockchains</li>
</ul>
</section>
<section id="proof-of-stake-pos" class="slide level2">
<h2>Proof of Stake (PoS)</h2>
<ul>
<li>Those with a <em>stake</em> in the cryptocurrency…
<ul>
<li>… meaning they hold enough of it…</li>
</ul></li>
<li>Can be the ones to present a certified block to the network
<ul>
<li>They put their cryptocurrency “on the line” to vouch for the validity of the block</li>
<li>And they get the miner reward</li>
</ul></li>
<li>This is called <em>staking</em></li>
<li>But what if the block is invalid?
<ul>
<li>Then the certifier loses some of their cryptocurrency
<ul>
<li>Called “slashing”</li>
</ul></li>
<li>While not unknown, it rarely happens</li>
</ul></li>
<li>Those who can certify blocks are called <em>validators</em></li>
</ul>
</section>
<section id="proof-of-stake-pos-1" class="slide level2">
<h2>Proof of Stake (PoS)</h2>
<ul>
<li>The network chooses the validators based on:
<ul>
<li>Amount of currency held</li>
<li>Length of currency held</li>
</ul></li>
<li>Implementations vary by cryptocurrency
<ul>
<li>Those with less “stake” will be validators less often</li>
</ul></li>
<li>Coins that use this: Tezos, Cosmos, Peercoin, Tendermint, the ETH2 upgrade
<ul>
<li>ETH2 requires a minimum of 32 ETH to participate in PoS</li>
</ul></li>
</ul>
</section>
<section id="eth-logo-ethereum-and-pos" class="slide level2">
<h2><a href="https://coinmarketcap.com/currencies/ethereum/" class="cclogo-slide"><img data-src="../slides/images/logos/eth-coin-symbol.svg" alt="eth logo"></a> Ethereum and PoS</h2>
<ul>
<li>Originally Ethereum was proof-of-work (hash algorithm: Ethash)</li>
<li>It had a <a href="https://docs.ethhub.io/questions-about-ethereum/what-is-the-difficulty-bomb/">difficulty bomb</a>, aka “Ice Age”
<ul>
<li>At certain block numbers, the difficulty increases significantly</li>
<li>See <a href="https://i.imgur.com/ac1xV3l.png">this graph</a> from the above link</li>
</ul></li>
<li>Purpose: to force the developers to either:
<ul>
<li>Migrate it to a later date (as has happened so far)</li>
<li>Change to PoS (in the works for some time now)</li>
</ul></li>
<li>The new Ethereum PoS proposal is called ETH2
<ul>
<li>Or the Paris Network Upgrade or the Casper protocol</li>
<li>It went live on September 15, 2022</li>
</ul></li>
</ul>
</section>
<section id="eth-logo-ethereums-move-to-pos" class="slide level2">
<h2><a href="https://coinmarketcap.com/currencies/ethereum/" class="cclogo-slide"><img data-src="../slides/images/logos/eth-coin-symbol.svg" alt="eth logo"></a> Ethereum’s move to PoS</h2>
<ul>
<li>Phase 0: December 2020: create the “Beacon Chain”, a PoS blockchain</li>
<li>Phase 1: September 15, 2022: change Ethereum from PoW to PoS
<ul>
<li>Last PoW block: <a href="https://etherscan.io/block/15537393">15,537,393</a></li>
<li>First PoS block: <a href="https://etherscan.io/block/15537394">15,537,394</a></li>
</ul></li>
<li>Phase 2: sometime in <del>2023</del> <del>2024</del> 2025?: allow shards
<ul>
<li>We’ll see <a href="scalability.html#/sharding">sharding in the scalability slide set</a></li>
</ul></li>
</ul>
</section>
<section id="ppc-logo-peercoin" class="slide level2">
<h2><a href="https://coinmarketcap.com/currencies/peercoin/" class="cclogo-slide"><img data-src="../slides/images/logos/ppc-coin-symbol.svg" alt="ppc logo"></a> Peercoin</h2>
<ul>
<li>First implementation of PoS, from 2012
<ul>
<li><a href="https://whitepaper.io/document/139/peercoin-whitepaper">Whitepaper</a>, <a href="https://github.com/peercoin/peercoin">source code on github</a></li>
</ul></li>
<li>Consider <em>coin age</em>, measured in <em>coin-days</em>
<ul>
<li>90 coins held for 10 days is 900 coin-days</li>
<li>Mining a block consumes the coin-days
<ul>
<li>Thus, those with a lower number of coins will eventually be able to mine a block</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="ppc-logo-peercoin-1" class="slide level2">
<h2><a href="https://coinmarketcap.com/currencies/peercoin/" class="cclogo-slide"><img data-src="../slides/images/logos/ppc-coin-symbol.svg" alt="ppc logo"></a> Peercoin</h2>
<ul>
<li>Weakness: buy a lot of Peercoin, and wait a long time
<ul>
<li>You can then mine many successive blocks, using a portion of your coin age each time</li>
<li>Then execute a <a href="bitcoin.html#/attacks">51% attack</a> (we’ll see this shortly)</li>
</ul></li>
<li>Solution: <em>checkpoints</em>
<ul>
<li>Basically a periodic (few times per day) proof-of-work mined block</li>
<li>The nodes all agree on the “offical” blockchain, which then is immutable</li>
</ul></li>
</ul>
</section>
<section id="nothing-at-stake-problem" class="slide level2">
<h2>Nothing-at-stake-problem</h2>
<ul>
<li>Consider a fork in the blockchain due to two simultaneously mined blocks
<ul>
<li>This will happen occasionally!</li>
</ul></li>
<li>Which one chain should a validator mine for?</li>
<li>Ideal strategy: mine both
<ul>
<li>In PoS, it is not computationally demanding to mine both</li>
<li>This way you don’t mine the eventual “wrong” chain, and then not get the reward</li>
</ul></li>
<li>With PoS, there is nothing at stake to prevent mining both chains</li>
<li>This can make double-spend attacks more feasible, as duplicate chains are not removed quickly</li>
</ul>
</section>
<section id="nothing-at-stake-problem-1" class="slide level2">
<h2>Nothing-at-stake problem</h2>
<ul>
<li>All coins must address this somehow</li>
<li>ETH2:
<ul>
<li>Part of your stake is a “deposit” on the validity of the block</li>
<li>If that block does not make it into the full block chain, you lose that deposit
<ul>
<li>Called <em>slashing</em></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="staking" class="slide level2">
<h2>Staking</h2>
<ul>
<li>Let’s say you wanted to be a validator for a PoS coin</li>
<li>If you had more of that coin…
<ul>
<li>… you could be “chosen” as the validator more often</li>
<li>… and thus get more of the validator reward</li>
</ul></li>
<li>So you might “rent” coins from others to increase your balance</li>
</ul>
</section>
<section id="staking-1" class="slide level2">
<h2>Staking</h2>
<ul>
<li>If you have some of a coin, you could “loan” it to others so they can better participate in PoS
<ul>
<li>This is <em>also</em> called staking</li>
</ul></li>
<li>Advantages:
<ul>
<li>You get a payout: maybe 5% of your “loan” per year</li>
</ul></li>
<li>Disadvantages:
<ul>
<li>You can’t get your “stake” back early</li>
</ul></li>
<li>A good choice if you definitely are not going to sell in the near future</li>
</ul>
</section>
<section id="staking-legality" class="slide level2">
<h2>Staking Legality</h2>
<ul>
<li>On Feb 3, 2022, the IRS said it will not tax unsold, staked crypto (<a href="https://www.forbes.com/sites/kamranrosen/2022/02/02/in-huge-precedent-irs-says-it-will-not-tax-unsold-staked-crypto/?sh=135dbc5f464c">source</a>)
<ul>
<li>You still pay when you sell it, of course</li>
</ul></li>
<li>Such coins are “new property” not “income”</li>
<li>Once sold, presumably you would pay taxes on it similar to how you pay taxes on interest
<ul>
<li>But that was not mentioned in that article…</li>
</ul></li>
</ul>
</section>
<section id="proof-of-history" class="slide level2">
<h2>Proof-of-History</h2>
<ul>
<li>In <img data-src="../slides/images/logos/sol-coin-symbol.svg#cclogo" class="cclogo-slide" alt="sol logo"> Solana (<a href="https://coinmarketcap.com/currencies/solana/">SOL</a>) the block verification combines PoS and proof of history (<a href="https://solana.com/solana-whitepaper.pdf">Solana’s whitepaper</a>)
<ul>
<li>Each transaction has a hash of <em>another</em> transaction
<ul>
<li>This proves that the TXN happened after the “other” transaction</li>
<li>This forms a chain (graph, really) of events in time</li>
<li>The blocks (maybe TXNs?) also have an actual timestamp</li>
</ul></li>
</ul></li>
<li>This graph is:
<ul>
<li>Directed (any TXN points to a previous TXN)</li>
<li>Acyclic (you can’t have a loop in time)</li>
</ul></li>
<li>Thus, the validator can always find the topological sort of a set of TXNs
<ul>
<li>Which means we can sequence them in the signed block</li>
</ul></li>
</ul>
</section>
<section id="poh-and-block-verification" class="slide level2">
<h2>PoH and block verification</h2>
<ul>
<li>With <img data-src="../slides/images/logos/btc-coin-symbol.svg#cclogo" class="cclogo-slide" alt="btc logo"> Bitcoin, we have to compute the Merkle tree hash
<ul>
<li>Given <span class="math inline">\(n\)</span> transactions, it takes <span class="math inline">\(\Theta(n)\)</span> steps to build the tree</li>
<li>Given infinite computing power, it takes <span class="math inline">\(\Theta(\log n)\)</span> steps</li>
</ul></li>
<li>In <img data-src="../slides/images/logos/sol-coin-symbol.svg#cclogo" alt="sol logo"> Solana, each transaction can be verified in parallel
<ul>
<li>Just check that it goes one link back to another valid TXN</li>
<li>Given <span class="math inline">\(n\)</span> transactions and an infinite computing power, it can be done in <span class="math inline">\(\Theta(1)\)</span> time</li>
</ul></li>
<li>A GPU can have 4,000 cores, and each can verify one TXN in parallel
<ul>
<li>Okay, not infinite, but still quite fast</li>
</ul></li>
</ul>
</section>
<section id="proof-of-capacity" class="slide level2">
<h2>Proof-of-Capacity</h2>
<ul>
<li>aka Proof-of-replication (PoRep), proof-of-storage, etc.</li>
<li>You allocate a certain amount of “capacity” to store the blockchain
<ul>
<li>Depending on amount, you are likely not holding all of the blockchain</li>
</ul></li>
<li>But all parts of the blockchain are on many machines
<ul>
<li>Benefit: in the case of a failure, the “storage” – in the blockchain – is replicated</li>
</ul></li>
<li>You pay to store data in the blockchain</li>
<li><a href="https://coinmarketcap.com/currencies/storj/" class="cclogo-slide"><img data-src="../slides/images/logos/storj-coin-symbol.svg" alt="storj logo"></a> Example: Storj</li>
</ul>
</section>
<section id="proof-of-spacetime" class="slide level2">
<h2>Proof-of-spacetime</h2>
<ul>
<li>Spacetime means allocating space over a period of time
<ul>
<li>And is not related to Einstein’s spacetime from relativity</li>
</ul></li>
<li>Like proof-of-capacity, but…
<ul>
<li>Your reward is based on the amount of space dedicated times the amount of time</li>
</ul></li>
<li><a href="https://coinmarketcap.com/currencies/filecoin/" class="cclogo-slide"><img data-src="../slides/images/logos/fil-coin-symbol.svg" alt="fil logo"></a> Example: Filecoin</li>
</ul>
</section>
<section id="neox-logo-neoxa-proof-of-game" class="slide level2">
<h2><a href="https://coinmarketcap.com/currencies/neoxa/" class="cclogo-slide"><img data-src="../slides/images/logos/neox-coin-symbol.svg" alt="neox logo"></a> Neoxa: “Proof-of-Game”</h2>
<ul>
<li>This is <em>not</em> a block certification method!
<ul>
<li>They just wanted to use the “proof-of-X” moniker</li>
</ul></li>
<li><a href="https://www.neoxa.net/whitepaper">Neoxa’s whitepaper</a></li>
<li>Intent is to reward video game players for actions taken in the game itself
<ul>
<li>See the table on <a href="https://www.neoxa.net/whitepaper">whitepaper page 3</a></li>
</ul></li>
<li>Pro: trying to get in early on the intersection of games and cryptocurrency</li>
<li>Cons: so many to list here, where to start?</li>
</ul>
</section>
<section id="green-coins" class="slide level2">
<h2>“Green” coins</h2>
<ul>
<li>Generally, any coin that is not proof-of-work</li>
<li>Possibilities:
<ul>
<li>Proof-of-stake, like ETH2 and Peercoin</li>
<li>Proof-of-{capacity, replication, spacetime}, like Storj and Filecoin</li>
<li>Does not require proofs, such as <a href="https://coinmarketcap.com/currencies/stellar/" class="cclogo-slide"><img data-src="../slides/images/logos/xlm-coin-symbol.svg" alt="xlm logo"></a> Stellar Lumens (XLM)</li>
</ul></li>
<li>There were also some pro-environment coins
<ul>
<li>That gave rewards for, say, producing renewable energy</li>
<li>Difficult business model, so most have floundered</li>
</ul></li>
</ul>
<!-- ============================================================ -->
</section></section>
<section>
<section id="dags" class="title-slide slide level1 center">
<h1>DAGs</h1>

</section>
<section id="consider" class="slide level2">
<h2>Consider…</h2>
<ul>
<li>The first few blocks of an arbitrary cryptocurrency…</li>
<li>Here is the genesis block:</li>
</ul>
<p><img src="images/mining/dag/dag.dot.1.svg" style="height:20px"></p>
</section>
<section id="the-first-block-mined" class="slide level2">
<h2>The first block mined</h2>
<p><img src="images/mining/dag/dag.dot.2.svg"> Block 0 is on the top, block 1 is on the bottom</p>
</section>
<section id="two-blocks-mined" class="slide level2">
<h2>Two blocks mined</h2>
<p><img src="images/mining/dag/dag.dot.3.svg"> We’ve just mined block 2</p>
</section>
<section id="a-transaction" class="slide level2">
<h2>A transaction</h2>

<img src="images/mining/dag/dag.dot.4.svg" class="r-stretch"></section>
<section id="section" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.5.svg" class="r-stretch"></section>
<section id="section-1" class="slide level2">
<h2></h2>
<p><img src="images/mining/dag/dag.dot.6.svg"> Note that UTXOs are not only in the bottom level</p>
</section>
<section id="section-2" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.7.svg" class="r-stretch"></section>
<section id="section-3" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.8.svg" class="r-stretch"></section>
<section id="section-4" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.9.svg" class="stretch"></section>
<section id="section-5" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.10.svg" class="stretch"></section>
<section id="section-6" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.11.svg" class="stretch"></section>
<section id="section-7" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.12.svg" class="stretch"></section>
<section id="section-8" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.13.svg" class="stretch"></section>
<section id="section-9" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.14.svg" class="stretch"></section>
<section id="section-10" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.15.svg" class="stretch"></section>
<section id="section-11" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.16.svg" class="stretch"></section>
<section id="section-12" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.17.svg" class="stretch"></section>
<section id="section-13" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.18.svg" class="stretch"></section>
<section id="section-14" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.19.svg" class="stretch"></section>
<section id="section-15" class="slide level2">
<h2></h2>

<img src="images/mining/dag/dag.dot.20.svg" class="stretch"></section>
<section id="realism" class="slide level2">
<h2>Realism</h2>
<ul>
<li>Most (all?) cryptocurrencies are mined by the developers for the first many blocks
<ul>
<li>Ethereum’s first non-mining transaction was in block <a href="https://etherscan.io/block/46147">46,147</a></li>
<li>Bitcoin only had a few hundred accounts in the first 50,000 (or so) blocks</li>
</ul></li>
<li>But the previous images of the DAG still show the concepts of having many transactions</li>
</ul>
</section>
<section id="dags-1" class="slide level2">
<h2>DAGs</h2>
<ul>
<li>The entire transaction list is a directed acyclic graph
<ul>
<li>aka DAG</li>
</ul></li>
<li>In order to successfully mine, this has to be kept in memory
<ul>
<li>as that tells you if a UTXO has already been spent or not</li>
</ul></li>
<li>Optimization: use hash tables (or similar)
<ul>
<li>Map a UTXO to the amount it makes available</li>
<li>And only keep track of the unspent UTXOs</li>
</ul></li>
<li>So not <em>really</em> a DAG, then…</li>
</ul>
</section>
<section id="dag-size" class="slide level2">
<h2>DAG size <!-- change each semester --></h2>
<ul>
<li>You can see DAG sizes at <a href="https://minerstat.com/dag-size-calculator">https://minerstat.com/dag-size-calculator</a></li>
<li>Consider Ravencoin, whose DAG is currently at 4.87 Gb (as of Feb 2025)
<ul>
<li>Based on the expected DAG growth…
<ul>
<li>5 Gb GPUS will no longer be able to mine it around May 2025</li>
<li>6 Gb GPUS will no longer be able to mine it around Mar 2027</li>
</ul></li>
<li><a href="https://minerstat.com/dag-size-calculator">source</a></li>
</ul></li>
</ul>
<!-- ============================================================ -->
</section></section>
<section>
<section id="attacks" class="title-slide slide level1 center">
<h1>Attacks</h1>
<p><img src="../slides/images/logos/btc-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/btg-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/erg-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/eth-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/firo-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/rvn-coin-symbol.svg" class="cclogosubtitle"> <img src="../slides/images/logos/xlm-coin-symbol.svg" class="cclogosubtitle"></p>
</section>
<section id="double-spending" class="slide level2">
<h2>Double spending</h2>
<ul>
<li>Definition: when one submits two TXNs spending the same UTXO</li>
<li>Prevented by:
<ul>
<li>The “valid block check” that miners &amp; nodes perform checks for
<ul>
<li>Non-malicious nodes will not vote to approve a node that double spends
<ul>
<li>Or that spends an already-spent UTXO</li>
</ul></li>
</ul></li>
<li>In Bitcoin: having a witness hash for a transaction that cannot be changed</li>
</ul></li>
</ul>
</section>
<section id="attack" class="slide level2">
<h2>51% attack</h2>

<img src="images/bitcoin/attack/attack.dot.1.svg" style="width:130px !important" class="right-float-img r-stretch"><ul>
<li>This is an attack primarily on PoW blockchains
<ul>
<li>But still possible on PoS blockchains as well</li>
</ul></li>
<li>Given the initial state in some block, say 1000</li>
</ul>
</section>
<section id="attack-1" class="slide level2">
<h2>51% attack</h2>

<img src="images/bitcoin/attack/attack.dot.2.svg" class="right-float-img r-stretch" style="width:130px"><ul>
<li>Mallory spends a UTXO
<ul>
<li>On something that has a quick delivery, such as a digital asset</li>
<li>Or a in-person transaction where she takes possession of a physical item</li>
</ul></li>
</ul>
</section>
<section id="attack-2" class="slide level2">
<h2>51% attack</h2>

<img src="images/bitcoin/attack/attack.dot.3.svg" style="width:130px" class="right-float-img r-stretch"><ul>
<li>Seller waits some number of confirmations…
<ul>
<li>Say, 3 (in reality, likely many more)</li>
</ul></li>
<li>Then the seller assumes the TXN will not change
<ul>
<li>Because there have been the desired number of confirmations</li>
</ul></li>
<li>The digital asset is then sent
<ul>
<li>Or the physical item changes hands</li>
</ul></li>
</ul>
</section>
<section id="attack-3" class="slide level2">
<h2>51% attack</h2>
<p><img src="images/bitcoin/attack/attack.dot.4.svg" style="height:773px" class="right-float-img"></p>
<ul>
<li>The original spender tries to spend the UTXO again
<ul>
<li>Mine it into a block</li>
</ul></li>
<li>Node adoption policy: longest chain
<ul>
<li>The longest “chain” of blocks, starting from the genesis block, is the valid chain</li>
</ul></li>
<li>But how to make the rest of the network accept the second spending of the UTXO?
<ul>
<li>Make that second TXN part of the new longest chain</li>
</ul></li>
</ul>
</section>
<section id="attack-4" class="slide level2">
<h2>51% attack</h2>
<p><img src="images/bitcoin/attack/attack.dot.5.svg" style="height:773px" class="right-float-img"></p>
<ul>
<li>But how to make the rest of the network accept it?
<ul>
<li>Make that second TXN part of the new longest chain</li>
</ul></li>
<li>Solution
<ul>
<li>Have to mine more than the rest of the network</li>
<li>Thus, must have 51% (or more) of the network mining capability, hence the name</li>
</ul></li>
<li>If the attacker…
<ul>
<li>Who has 51% (or more) of the mining power…</li>
</ul></li>
<li>… can ever create the longest chain…</li>
<li>Then they have “double spent” the UTXO!
<ul>
<li>Not <em>true</em> double spending, but close…</li>
</ul></li>
</ul>
</section>
<section id="longest-chain-adoption-policy" class="slide level2">
<h2>Longest Chain Adoption Policy</h2>
<ul>
<li>Miners are incentivized to always accept the longest chain as the “valid” chain
<ul>
<li>That chain has the greatest chance of becoming the “accepted” chain
<ul>
<li>After a certain number of confirmations</li>
</ul></li>
<li>Any blocks mined on a different (and shorter) chain yield no reward, since their mined coins are not part of the longest chain
<ul>
<li>No reward means no incentive</li>
</ul></li>
</ul></li>
</ul>
<!-- .slide: class="cclogo-slide" -->
</section>
<section id="attack-5" class="slide level2">
<h2>51% attack</h2>
<ul>
<li>But is this viable?
<ul>
<li>As no one person is going to have 51% of the <a href="https://www.blockchain.com/charts/hash-rate?timespan=all">BTC mining / hash capacity</a></li>
</ul></li>
<li>But a mining pool might for other cryptocurrencies</li>
<li>Consider the <a href="https://coinmarketcap.com/currencies/ravencoin/"><img data-src="../slides/images/logos/rvn-coin-symbol.svg" alt="rvn logo"></a> Ravencoin <a href="https://2miners.com/rvn-mining-pool">pool from 2miners</a>
<ul>
<li>See what percentage they have now by dividing the pool hash rate by the network hash rate</li>
<li>On June 27th, 2021, they had over 51% (<a href="https://www.reddit.com/r/Ravencoin/comments/o96qox/2miners_is_showing_over_51_on_miningpoolstats/">source</a>)
<ul>
<li>Due to a purchase of hashpower from (likely) Nicehash</li>
</ul></li>
</ul></li>
<li><a href="https://coinmarketcap.com/currencies/firo/"><img data-src="../slides/images/logos/firo-coin-symbol.svg" alt="firo logo"></a> Firo had one in January 2021</li>
<li><a href="https://coinmarketcap.com/currencies/bitcoin-gold/"><img data-src="../slides/images/logos/btg-coin-symbol.svg" alt="btg logo"></a> Bitcoin Gold had one in May 2018 and January 2020</li>
</ul>
<!-- .slide: class="right-float-img" -->
</section>
<section id="required-confirmations" class="slide level2">
<h2>Required confirmations</h2>

<img src="images/bitcoin/attack/attack.dot.6.svg" style="773px" class="r-stretch"><ul>
<li>Envision: we have two longest chains, and miners are split between the two
<ul>
<li>Neither has yet become “longer”</li>
</ul></li>
<li>What if the miner for block 1001, version 1, were to immediately spend those mined coins
<ul>
<li>And then the version 2 chain were to become the longer (and thus accepted) chain?</li>
</ul></li>
<li>Solution: wait until <span class="math inline">\(n\)</span> confirmations have occurred before allowing spending of the BTC</li>
</ul>
<!-- .slide: class="cclogo-slide" -->
</section>
<section id="confirmations" class="slide level2">
<h2>Confirmations</h2>
<ul>
<li>Number of confirmations typically required (via <a href="https://2miners.com">2miners</a>):
<ul>
<li><a href="https://coinmarketcap.com/currencies/stellar/"><img data-src="../slides/images/logos/xlm-coin-symbol.svg" alt="xlm logo"></a> XLM: 0 blocks (5 seconds) (TXNs are irreversible)</li>
<li><a href="https://coinmarketcap.com/currencies/bitcoin/"><img data-src="../slides/images/logos/btc-coin-symbol.svg" alt="btc logo"></a> BTC: 6 blocks (about 1 hour) for “standard” transactions</li>
<li><a href="https://coinmarketcap.com/currencies/ethereum/"><img data-src="../slides/images/logos/eth-coin-symbol.svg" alt="eth logo"></a> ETH: 240 blocks (about 1 hour) (maybe different w/PoS)</li>
<li><a href="https://coinmarketcap.com/currencies/ravencoin/"><img data-src="../slides/images/logos/rvn-coin-symbol.svg" alt="rvn logo"></a> RVN: 100 blocks (about 2 hours)</li>
<li><a href="https://coinmarketcap.com/currencies/firo/"><img data-src="../slides/images/logos/firo-coin-symbol.svg" alt="firo logo"></a> FIRO: 100 blocks (about 9 hours)</li>
<li><a href="https://coinmarketcap.com/currencies/bitcoin/"><img data-src="../slides/images/logos/btc-coin-symbol.svg" alt="btc logo"></a> BTC: 60 blocks (about 10 hours) for “large” transactions</li>
<li><a href="https://coinmarketcap.com/currencies/ergo/"><img data-src="../slides/images/logos/erg-coin-symbol.svg" alt="erg logo"></a> ERG: 720 blocks (about 1 day)</li>
</ul></li>
<li>This is based on many factors: block speed, overall network hash rate, and the value of the coin</li>
</ul>
<!-- ============================================================ -->
</section></section>
<section>
<section id="forks-orphan-nodes" class="title-slide slide level1 center">
<h1>Forks &amp; Orphan Nodes</h1>
<p><img src="images/logos/btg-coin-symbol.svg" class="cclogosubtitle"> <img src="images/logos/etc-coin-symbol.svg" class="cclogosubtitle"> <img src="images/logos/eth-coin-symbol.svg" class="cclogosubtitle"> <img src="images/logos/nmc-coin-symbol.svg" class="cclogosubtitle"> <img src="images/logos/rvn-coin-symbol.svg" class="cclogosubtitle"></p>
</section>
<section id="cryptocurrency-forks" class="slide level2">
<h2>Cryptocurrency “Forks”</h2>
<ul>
<li>There are four different meanings of “fork” with regard to cryptocurrencies
<ol type="1">
<li>Uncle / orphan / ommer blocks</li>
<li>Soft fork</li>
<li>Hard fork</li>
<li>Source code fork</li>
</ol></li>
</ul>
<!-- .slide: class="right-float-img" -->
</section>
<section id="type-1-uncle-orphan-ommer" class="slide level2">
<h2>Type 1: Uncle / Orphan / Ommer</h2>

<img src="images/mining/orphan/orphan.dot.1.svg" style="width:100px;padding-left:86px;padding-right:86px" class="r-stretch"><ul>
<li>Given a starting block number (here, 1000)</li>
</ul>
<!-- .slide: class="right-float-img" -->
</section>
<section id="uncle-orphan-ommer-blocks" class="slide level2">
<h2>Uncle / Orphan / Ommer blocks</h2>

<img src="images/mining/orphan/orphan.dot.2.svg" style="width:120px;padding-left:76px;padding-right:76px" class="r-stretch"><ul>
<li>Given a starting block number (here, 1000)</li>
<li>A miner mines a given transaction <span class="math inline">\(x\)</span> into block 1001</li>
</ul>
<!-- .slide: class="right-float-img" -->
</section>
<section id="uncle-orphan-ommer-blocks-1" class="slide level2">
<h2>Uncle / Orphan / Ommer blocks</h2>

<img src="images/mining/orphan/orphan.dot.3.svg" style="width:250px" class="r-stretch"><ul>
<li>Given a starting block number (here, 1000)</li>
<li>A miner mines a given transaction into a block</li>
<li>But another miner mines a different block without that TXN</li>
</ul>
<!-- .slide: class="right-float-img" -->
</section>
<section id="uncle-orphan-ommer-blocks-2" class="slide level2">
<h2>Uncle / Orphan / Ommer blocks</h2>

<img src="images/mining/orphan/orphan.dot.4.svg" style="width:250px" class="r-stretch"><ul>
<li>Given a starting block number (here, 1000)</li>
<li>A miner mines a given transaction into a block</li>
<li>But another miner mines a different block without that TXN</li>
<li>That other block gets a confirmation</li>
</ul>
<!-- .slide: class="right-float-img" -->
</section>
<section id="uncle-orphan-ommer-blocks-3" class="slide level2">
<h2>Uncle / Orphan / Ommer blocks</h2>

<img src="images/mining/orphan/orphan.dot.5.svg" style="width:250px" class="r-stretch"><ul>
<li>Given a starting block number (here, 1000)</li>
<li>A miner mines a given transaction into a block</li>
<li>But another miner mines a different block without that TXN</li>
<li>That other block gets a confirmation</li>
<li>And then one more</li>
</ul>
<!-- .slide: class="right-float-img" -->
</section>
<section id="uncle-orphan-ommer-blocks-4" class="slide level2">
<h2>Uncle / Orphan / Ommer blocks</h2>

<img src="images/mining/orphan/orphan.dot.6.svg" style="width:250px" class="r-stretch"><ul>
<li>Given a starting block number (here, 1000)</li>
<li>A miner mines a given transaction into a block</li>
<li>But another miner mines a different block without that TXN</li>
<li>That other block gets a confirmation</li>
<li>And then one more</li>
<li>Eventually the block with the TXN is discarded
<ul>
<li>As it is not part of the longest chain anymore</li>
</ul></li>
</ul>
</section>
<section id="uncle-orphan-ommer-blocks-5" class="slide level2">
<h2>Uncle / Orphan / Ommer blocks</h2>
<ul>
<li>Bitcoin calls these <em>orphan blocks</em> or <em>orphan nodes</em></li>
<li>Ethereum used to call them <em>uncle blocks</em> or <em>uncle nodes</em>
<ul>
<li>But that is gender-specific</li>
<li>Now they are called <em>ommer blocks</em> or <em>ommer nodes</em>
<ul>
<li>Ommer is a gender-neutral version of aunt or uncle
<ul>
<li>But not a native English word</li>
</ul></li>
<li>Like “sibling” instead of brother or sister</li>
</ul></li>
</ul></li>
<li>What happens to that TXN?
<ul>
<li>Other miners will likely pick it up</li>
<li>Wallet software (or equivalent) will re-send it if it “disappears”
<ul>
<li>Or at least notify you that it was not mined</li>
</ul></li>
</ul></li>
<li>This is an issue if we all could mine the blockchain in this class
<ul>
<li>There is no effective way to ensure it is not discarded</li>
</ul></li>
</ul>
</section>
<section id="how-to-handle" class="slide level2">
<h2>How to handle?</h2>
<ul>
<li>Bitcoin’s orphan blocks: once it is no longer part of the longest chain, is completely discarded
<ul>
<li>Reason: with 10 minute block time, this is much less likely to occur</li>
<li>Thus, no reward for the miner of the orphan block!</li>
</ul></li>
<li>Ethereum’s ommer blocks, when PoW: not fully discarded
<ul>
<li>Miners still get a reward, albeit much smaller</li>
<li>The EVM keeps them around in memory</li>
<li>They are not the canonical “truth” of the blockchain, though</li>
<li>Reason: with a 15 second block time, this is much more likely to occur</li>
<li>They cannot happen on our proof-of-authority blockchain</li>
</ul></li>
<li>Many others are based on Ethereum’s strategy</li>
</ul>
<!-- .slide: class="right-float-img" -->
</section>
<section id="type-2-soft-forks" class="slide level2">
<h2>Type 2: Soft forks</h2>

<img src="https://miro.medium.com/max/1400/1*FBNBdZKQOI2FfJMRBto5pQ.jpeg" style="padding:0;background:transparent" class="r-stretch"><ul>
<li>Non-token crypto-currencies usually have a group of developers
<ul>
<li>Occasional changes are made to the protocol / mining algorithm / etc.</li>
<li>Bitcoin via <a href="https://github.com/bitcoin/bips/">BIPs</a>, Ethereum via <a href="https://github.com/ethereum/EIPs/">EIPs</a>, etc.</li>
</ul></li>
<li>Sometimes called a <em>consensus fork</em></li>
<li>Generally, all the uses of the cryptocurrency (eventually) adopt the change</li>
<li>These forks are backward-compatible
<ul>
<li>At least until everybody switches over</li>
</ul></li>
</ul>
<!-- .slide: class="right-float-img" -->
</section>
<section id="soft-forks" class="slide level2">
<h2>Soft forks</h2>

<img src="https://miro.medium.com/max/1400/1*FBNBdZKQOI2FfJMRBto5pQ.jpeg" style="padding:0;background:transparent" class="r-stretch"><ul>
<li>How to get all the miners to adopt it?
<ul>
<li>Release the updated source code</li>
<li>The agreed-upon change will state that at some point, all further blocks <em>must</em> have that change</li>
<li>That point could be when:
<ul>
<li>Some number (say, 75%) of the nodes have adopted this change</li>
<li>After some date/time</li>
<li>ETH 2: when the Total Terminal Difficulty reaches (or exceeds) exactly <span class="math inline">\(5.875*10^{22}\)</span></li>
</ul></li>
</ul></li>
<li>Example: Bitcoin’s <a href="bitcoin.html#/segwit">Segregated Witness</a> from 2015
<ul>
<li>Defined in <a href="https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki">BIP 141</a></li>
</ul></li>
</ul>
<!-- .slide: class="right-float-img-nb-400" -->
</section>
<section id="type-3-hard-forks" class="slide level2">
<h2>Type 3: Hard forks</h2>
<p><img data-src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Gabel_--_2021_--_7220.jpg/800px-Gabel_--_2021_--_7220.jpg"> - A change is proposed that some users do <em>NOT</em> want to adopt - Or that is not backwards-compatible, so some users choose one way and some the other way</p>
<!-- .slide: class="cclogo-slide" -->
</section>
<section id="eth-logo-ethereum-etc-logo-ethereum-classic" class="slide level2">
<h2><a href="https://coinmarketcap.com/currencies/ethereum/"><img data-src="../slides/images/logos/eth-coin-symbol.svg" alt="eth logo"></a> Ethereum &amp; <br> <a href="https://coinmarketcap.com/currencies/ethereum-classic/"><img data-src="../slides/images/logos/etc-coin-symbol.svg" alt="etc logo"></a> Ethereum Classic</h2>
<ul>
<li>June 2016: A well-known Ethereum organization had a programming bug that allowed millions to be drained from the account
<ul>
<li>This endangered the perception and trust of the Ethereum as a whole</li>
<li>We’ll see this error in detail in <a href="applications.html#/">Blockchain Applications</a></li>
</ul></li>
<li>The fix: roll back the blockchain to before the hack to fix it</li>
<li>This <a href="applications.html#/etcsplit">split the users</a>; some didn’t want the fix</li>
<li><a href="https://coinmarketcap.com/currencies/ethereum-classic/"><img data-src="../slides/images/logos/etc-coin-symbol.svg" alt="etc logo"></a> Ethereum Classic is the blockchain <em>without</em> the fix</li>
<li><a href="https://coinmarketcap.com/currencies/ethereum/"><img data-src="../slides/images/logos/eth-coin-symbol.svg" alt="eth logo"></a> Ethereum is the blockchain <em>with</em> the fix</li>
</ul>
<!-- .slide: class="cclogo-slide" -->
</section>
<section id="btg-logo-bitcoin-gold" class="slide level2">
<h2><a href="https://coinmarketcap.com/currencies/bitcoin-gold/"><img data-src="../slides/images/logos/btg-coin-symbol.svg" alt="btg logo"></a> Bitcoin Gold</h2>
<ul>
<li>Hard fork of Bitcoin on October 24, 2017 (at block height 491,407)</li>
<li>Reasons: change to an ASIC-resistant hash</li>
<li>It’s had a lot of growing pains:
<ul>
<li>Was hastily put together</li>
<li>Had a developer pre-mine, which always looks shady</li>
<li>Hit by 51% attack in May 2018; 388k BTG (about $18 million) was stolen; promptly de-listed from Bittrex</li>
<li>Hit by a 51% attack again in January 2020</li>
<li>In July 2020 an “emergency update” was released to counter yet another attack</li>
</ul></li>
</ul>
<!-- .slide: class="cclogo-slide" -->
</section>
<section id="type-4-source-code-fork" class="slide level2">
<h2>Type 4: Source code fork</h2>
<ul>
<li>You can make a new cryptocurrency by:
<ul>
<li>Take a tested open source code base</li>
<li>Make a the modifications you want</li>
</ul></li>
<li>The <a href="https://coinmarketcap.com/currencies/ravencoin/"><img data-src="../slides/images/logos/rvn-coin-symbol.svg" alt="rvn logo"></a> <a href="https://github.com/RavenProject/Ravencoin">Ravencoin (RVN) source code</a> is based off of the <a href="https://github.com/bitcoin/bitcoin">Bitcoin source code</a>; created in 2018</li>
<li>Changes:
<ul>
<li>1000x as many coins</li>
<li>1 minute block time instead of 10 minutes</li>
<li>Native support for assets
<ul>
<li>Could be NFTs, but can represent any digital or physical item</li>
</ul></li>
<li>Different PoW hashes to be ASIC resistant</li>
</ul></li>
</ul>
<!-- .slide: class="cclogo-slide" -->
</section>
<section id="nmc-logo-namecoin-2011" class="slide level2">
<h2><a href="https://coinmarketcap.com/currencies/namecoin/"><img data-src="../slides/images/logos/nmc-coin-symbol.svg" alt="nmc logo"></a> Namecoin (2011)</h2>
<ul>
<li>Namecoin (NMC) was created in 2011, also as a fork of Bitcoin</li>
<li>Purpose: censorship-free domain DNS registration for the .bit top-level domain
<ul>
<li>Anybody can transact with Namecoin to reserve a domain in .bit</li>
<li>Fee: 0.01 NMC</li>
<li>Reservation lasts 36,000 blocks (about 200 days) unless updated or renewed</li>
</ul></li>
<li>.bit domains are not widely supported
<ul>
<li>Not sanction by <a href="https://en.wikipedia.org/wiki/ICANN">ICANN</a>, not supported by <a href="https://en.wikipedia.org/wiki/OpenNIC">OpenNIC</a></li>
</ul></li>
<li>Namecoin not very popular these days
<ul>
<li>In 2015: 120k domains registered, but only 28 in use</li>
</ul></li>
</ul>
<div class="quarto-auto-generated-content">
<p><img src="images/quarto.webp" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://github.com/aaronbloomfield/ccc" class="uri">https://github.com/aaronbloomfield/ccc</a></p>
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="quarto_files/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="quarto_files/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="quarto_files/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="quarto_files/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="quarto_files/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="quarto_files/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="quarto_files/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="quarto_files/revealjs/plugin/notes/notes.js"></script>
  <script src="quarto_files/revealjs/plugin/search/search.js"></script>
  <script src="quarto_files/revealjs/plugin/zoom/zoom.js"></script>
  <script src="quarto_files/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'h.v',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
              // target, if specified
              link.setAttribute("target", "_blank");
              if (link.getAttribute("rel") === null) {
                link.setAttribute("rel", "noopener");
              }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>